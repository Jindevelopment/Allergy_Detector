# 🛡️ 알레르기 안전 탐지기

AI 기반 성분표 알레르기 위험 탐지 및 맞춤형 경고 웹사이트

## 📋 프로젝트 개요

사용자가 등록한 알레르기 정보를 기반으로, 식품 성분표를 촬영/업로드하면 자동으로 알레르겐 포함 여부를 판별하고, 위험 수준을 **신호등 방식(강·중·약)**으로 직관적으로 안내하는 개인 맞춤형 알레르기 안전 서비스를 제공합니다.

## ✨ 주요 기능

### 🔍 OCR 기반 성분표 인식
- pytesseract 등 OCR 라이브러리를 활용하여 이미지에서 텍스트를 자동 추출
- 영문 및 한글 성분 모두 인식 지원

### 👤 사용자 프로필 매칭
- 사용자가 사전에 등록한 알레르기 정보와 성분표에서 인식한 텍스트를 교차 분석
- 다국어 및 동의어 매칭 (예: "난류 = 계란", "soy = 대두")

### 🚦 위험 신호등 경고
- 위험도 수준을 색상으로 직관적으로 표시
  - 🔴 **강 (빨강)**: 다수 알레르겐 또는 고위험 성분 포함
  - 🟠 **중 (주황)**: 일부 알레르겐 포함
  - 🟡 **약 (노랑)**: 경미한 주의 필요
  - 🟢 **안전 (초록)**: 알레르겐 미탐지

### 📊 Streamlit 대시보드
- 대시보드 형태로 결과 시각화
- 알레르기 정보 등록/수정/삭제 기능 제공
- 업로드된 성분표별 위험 분석 이력 관리

## 🚀 4단계 간편 분석 과정

1. **📸 성분표 촬영**: 식품 성분표를 사진으로 촬영하거나 이미지를 업로드
2. **🔍 OCR 인식**: AI가 이미지에서 텍스트를 자동으로 추출하고 성분을 인식
3. **⚠️ 위험 판별**: 등록된 알레르기 정보와 교차 분석하여 위험도를 판별
4. **📋 맞춤 안내**: 신호등 방식으로 위험도를 표시하고 상세한 안내를 제공

## 🛠️ 기술 스택

- **백엔드/분석**: Python, pytesseract (OCR), Pandas (데이터 처리)
- **프론트엔드/대시보드**: Streamlit
- **데이터베이스**: SQLite
- **AI 보조**: Cursor AI (위험 근거 문구 생성 등)

## 📦 설치 및 실행

### 1. 저장소 클론
```bash
git clone <repository-url>
cd allergy-detector
```

### 2. 가상환경 생성 (권장)
```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

### 3. 의존성 설치
```bash
pip install -r requirements.txt
```

### 4. Tesseract OCR 설치
- **Windows**: [Tesseract 설치 파일](https://github.com/UB-Mannheim/tesseract/wiki) 다운로드 및 설치
- **macOS**: `brew install tesseract tesseract-lang`
- **Ubuntu**: `sudo apt-get install tesseract-ocr tesseract-ocr-kor tesseract-ocr-eng`

### 5. 애플리케이션 실행
```bash
streamlit run app.py
```

## 📱 사용 방법

### 1. 알레르기 정보 등록
- 사이드바의 "👤 내 프로필" 메뉴에서 알레르기 성분을 등록
- 심각도(심각/주의/경미) 선택 가능

### 2. 성분표 분석
- "🔍 분석" 메뉴에서 성분표 이미지 업로드
- "성분 분석 시작" 버튼 클릭
- OCR 결과 및 위험도 확인

### 3. 분석 이력 조회
- "📊 이력" 메뉴에서 과거 분석 결과 확인

## 🗃️ 데이터베이스 구조

### 알레르기 데이터베이스
식약처 고시 23종 알레르기 유발 성분을 지원:
- 난류, 우유, 메밀, 땅콩, 대두, 밀, 고등어, 게, 새우, 돼지고기, 복숭아, 토마토, 호두, 닭고기, 쇠고기, 오징어, 조개류, 잣, 아황산류, 복합조미료, 카라멜색소, 아질산나트륨

### 동의어 지원
각 알레르기 성분에 대해 다양한 동의어와 영문명을 지원합니다.
예: "대두" → "soy", "soybean", "tofu", "대두단백", "게맛살"

## 🎨 디자인 특징

- **UI 스타일**: 직관적이고 현대적인 느낌 (Apple 스타일 참고)
- **컬러 가이드**:
  - 🔴 빨강(#FF4D4F) → 고위험
  - 🟠 주황(#FA8C16) → 중위험
  - 🟡 노랑(#FAAD14) → 저위험
  - 🟢 초록(#52C41A) → 안전
- **반응형 지원**: 모바일/PC 모두 대응

## ⚠️ 주의사항

- 본 서비스는 의학적 진단을 대체하지 않습니다
- 정확한 알레르기 정보는 의사와 상담하시기 바랍니다
- OCR 인식 정확도는 이미지 품질에 따라 달라질 수 있습니다
- 개인정보는 로컬 세션에서만 관리되며, 브라우저를 닫으면 데이터가 초기화됩니다

## 🔮 향후 확장 기능

- 대체 식품 추천 (안전한 유사 제품 안내)
- 영양 성분 리포트 생성
- 사용자 맞춤형 식단 관리 기능
- 다국어 지원 (영어, 일본어, 중국어)
- 실시간 카메라 촬영 지원

## 📞 지원 및 문의

- **이메일**: jinhyeok1001@naver.com 
- **전화**: 1588-0000
- **운영시간**: 평일 09:00 - 18:00

## 📄 라이선스

© 2025 알레르기 안전 탐지기. 모든 권리 보유.
